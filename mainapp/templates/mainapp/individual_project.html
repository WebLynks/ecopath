{% extends 'mainapp/navbar_footer.html' %}

{% block title %}{{ project.title }} - EcoPath{% endblock %}

{% block extra_head %}
<meta name="description" content="{{ project.meta_description }}">
<meta name="keywords" content="{{ project.meta_keywords }}">
{% endblock %}

{% block content %}
<div class="container">
    <!-- Project Header -->
    <div class="row">
        <div class="col-12">
            <h1 class="text-3xl md:text-4xl lg:text-5xl font-product-sans text-custom-green py-8 leading-relaxed">{{ project.title }}</h1>
            <p class="text-lg">{{ project.brief_description }}</p>
            <img src="{{ project.header_image_desktop.url }}" class="img-fluid rounded mb-4" alt="{{ project.title }}">
        </div>
    </div>

    <!-- Main Content and Facts -->
    <div class="row">
        <div class="col-md-8">
            <div class="ck-content">
                {{ project.detail_content|safe }}
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    Project Facts
                </div>
                <ul class="list-group list-group-flush">
                    {% for fact in project.facts.all %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <strong>{{ fact.key }}</strong>
                        <span>{{ fact.value }}</span>
                    </li>
                    {% empty %}
                    <li class="list-group-item">No facts available for this project.</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>

    <!-- Image Gallery -->
    {% if project.gallery_images.all %}
    <h2 class="mt-5 pb-2 border-bottom">Gallery</h2>
    <div class="row row-cols-1 row-cols-md-3 g-4">
        {% for p_image in project.gallery_images.all %}
        <div class="col">
            <div class="card">
                <a href="{{ p_image.image.url }}" target="_blank">
                    <img src="{{ p_image.image.url }}" class="card-img-top" alt="{{ p_image.alt_text }}">
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}

</div>
{% endblock %}
