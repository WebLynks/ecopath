{% extends 'mainapp/navbar_footer.html' %}

{% block title %}EcoPath - Sustainable Futures{% endblock %}

{% block content %}
<div class="container">
    <!-- Hero Section -->
    <div class="p-5 mb-4 bg-light rounded-3">
        <div class="container-fluid py-5">
            <h1 class="display-5 fw-bold">Building a Greener Tomorrow</h1>
            <p class="col-md-8 fs-4">EcoPath is dedicated to pioneering sustainable solutions in technology, services, and project development.</p>
            <a class="btn btn-primary btn-lg" href="{% url 'mainapp:about' %}">Learn More About Us</a>
        </div>
    </div>

    <!-- Featured Projects -->
    <h2 class="pb-2 border-bottom">Featured Projects</h2>
    <div class="row row-cols-1 row-cols-md-3 g-4 mb-5">
        {% for project in featured_projects %}
        <div class="col">
            <div class="card h-100">
                <img src="{{ project.header_image_desktop.url }}" class="card-img-top" alt="{{ project.title }}">
                <div class="card-body">
                    <h5 class="card-title">{{ project.title }}</h5>
                    <p class="card-text">{{ project.brief_description|truncatewords:20 }}</p>
                    <a href="{% url 'mainapp:project_detail' project.slug %}" class="btn btn-outline-primary">View Project</a>
                </div>
            </div>
        </div>
        {% empty %}
        <p>No featured projects at the moment. Check back soon!</p>
        {% endfor %}
    </div>

    <!-- Recent Blog Posts -->
    <h2 class="pb-2 border-bottom">From Our Blog</h2>
    <div class="row row-cols-1 row-cols-md-3 g-4 mb-5">
        {% for blog in recent_blogs %}
        <div class="col">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title">{{ blog.title }}</h5>
                    <p class="card-text">{{ blog.summary|truncatewords:25 }}</p>
                    <a href="{% url 'mainapp:blog_detail' blog.slug %}" class="btn btn-outline-secondary">Read More</a>
                </div>
                <div class="card-footer">
                    <small class="text-muted">Published on {{ blog.published_date|date:"F j, Y" }}</small>
                </div>
            </div>
        </div>
        {% empty %}
        <p>No blog posts yet. Stay tuned!</p>
        {% endfor %}
    </div>

    <!-- Testimonials -->
    <h2 class="pb-2 border-bottom">What Our Clients Say</h2>
    <div class="row">
        {% for testimonial in featured_testimonials %}
        <div class="col-md-6 mb-4">
            <div class="card">
                <div class="card-body">
                    <blockquote class="blockquote mb-0">
                        <p>{{ testimonial.quote }}</p>
                        <footer class="blockquote-footer">{{ testimonial.author_name }}, <cite title="Source Title">{{ testimonial.author_title }}</cite></footer>
                    </blockquote>
                </div>
            </div>
        </div>
        {% empty %}
        <p>No testimonials to display.</p>
        {% endfor %}
    </div>

</div>
{% endblock %}
